name: Build

on: [push]

jobs:
  build:
    runs-on: windows-latest
    steps:
    - uses: actions/checkout@v2

    # تثبيت أدوات Visual Studio Build Tools مع MSBuild
    - name: Install MSBuild
      run: choco install visualstudio2019-buildtools -y

    - name: Add MSBuild to Path
      shell: powershell
      run: |
        $msbuildPath = "C:\Program Files (x86)\Microsoft Visual Studio\2019\BuildTools\MSBuild\Current\Bin"
        echo "##vso[task.prependpath]$msbuildPath"

    - name: Build with MSBuild
      run: msbuild /p:Configuration=Release your_project.sln

    - name: Upload exe
      uses: actions/upload-artifact@v3
      with:
        name: mpc-hcc
        path: ./build/Release/your_executable.exe
